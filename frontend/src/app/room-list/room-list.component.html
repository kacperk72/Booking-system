<form class="mat-form-field" [formGroup]="sortingForm" (ngSubmit)="onSubmit()">
  <div class="inputs">
    <mat-form-field appearance="fill" class="form-filed">
      <mat-label for="roomName">Nazwa sali</mat-label>
      <input matInput id="roomName" formControlName="roomName">
    </mat-form-field>
  
    <mat-form-field appearance="fill" class="form-filed">
      <mat-label for="numberOfSeats">Ilość miejsc</mat-label>
      <mat-select id="numberOfSeats" formControlName="numberOfSeats">
        <mat-option value="one">10</mat-option>
        <mat-option value="two">20</mat-option>
        <mat-option value="">30</mat-option>
        <mat-option value="">40</mat-option>
        <mat-option value="">100</mat-option>
        <mat-option value="">120</mat-option>
        <mat-option value="">140</mat-option>
      </mat-select>
    </mat-form-field>
  
    <mat-form-field appearance="fill" class="form-filed">
      <mat-label for="roomType">Typ sali</mat-label>
      <mat-select id="roomType" formControlName="roomType">
        <mat-option value="one">Sala wykładowa</mat-option>
        <mat-option value="two">Sala lekcyjna z tablicą</mat-option>
        <mat-option value="">Sala komputerowa</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="buttons">
    <button mat-stroked-button color="secondary" type="submit" class="searchButton">Szukaj</button>
  </div>
</form>

<h2>Dostępne sale</h2>
<div class="room-list">
<div class="mat-elevation-z8" *ngIf="tableLoaded && filteredRooms.length !== 0">
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef>
        <mat-checkbox (change)="$event ? masterToggle() : null"
                      [checked]="selection.hasValue() && isAllSelected()"
                      [indeterminate]="selection.hasValue() && !isAllSelected()">
        </mat-checkbox>
      </th>
      <td mat-cell *matCellDef="let row">
        <mat-checkbox (click)="$event.stopPropagation()"
                      (change)="$event ? selection.toggle(row) : null"
                      [checked]="selection.isSelected(row)">
        </mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="roomName">
      <th mat-header-cell *matHeaderCellDef>Nazwa sali</th>
      <td mat-cell *matCellDef="let class"><a routerLink="/room" routerLinkActive="active" ariaCurrentWhenActive="page" appHighlight>{{class.roomName}}</a></td>
    </ng-container>

    <ng-container matColumnDef="numberOfSeats">
      <th mat-header-cell *matHeaderCellDef>Ilość miejsc</th>
      <td mat-cell *matCellDef="let class">{{class.numberOfSeats}}</td>
    </ng-container>

    <ng-container matColumnDef="roomType">
      <th mat-header-cell *matHeaderCellDef>Typ sali</th>
      <td mat-cell *matCellDef="let class">{{class.roomType}}</td>
    </ng-container>

    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef>Data</th>
      <td mat-cell *matCellDef="let class">{{class.date}}</td>
    </ng-container>

    <ng-container matColumnDef="hour">
      <th mat-header-cell *matHeaderCellDef>Godzina</th>
      <td mat-cell *matCellDef="let class">{{class.startTime}}-{{class.endTime}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"
        [class.selected]="selection.isSelected(row)"
        (click)="selection.toggle(row)">
    </tr>
  </table>
</div>
<div class="mat-elevation-z8" *ngIf="filteredRooms.length === 0">
  <p class="noRooms">Brak wolnych sal w danym terminie</p>
</div>
  <!-- <app-chosen-room *ngIf="classes.selectedOptions.hasValue()" [data]="classes.selectedOptions.selected[0].value"></app-chosen-room> -->
  <div class="book-room-button">
      <button mat-raised-button color="primary" (click)="getSelectedRooms()" [disabled]="selection.selected.length === 0">Rezerwuj</button>
  </div>
</div>
